use [YOUR_DATABASE]
go

/****** Object:  SqlAssembly [ClrHttp]    Script Date: 20.11.2017 19:55:38 ******/
create assembly [ClrHttp]
from 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010300031AF6550000000000000000E00002210B010B00001E000000060000000000007E3C0000002000000040000000000010002000000002000004000000000000000400000000000000008000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000303C00004B00000000400000A003000000000000000000000000000000000000006000000C000000F83A00001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000841C000000200000001E000000020000000000000000000000000000200000602E72737263000000A0030000004000000004000000200000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000002400000000000000000000000000004000004200000000000000000000000000000000603C0000000000004800000002000500642600009414000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001330020058000000010000110328030000060A0F00281300000A2D090F00281400000A2B01140B070628050000060C04086F09000006281500000A810400000105086F0B000006281600000A81020000010E04086F0F000006281600000A81020000012A133003006E000000020000110328030000060A0F00281300000A2D090F00281400000A2B01140B0F02281300000A2D090F02281400000A2B01140C07060828060000060D05096F09000006281500000A81040000010E04096F0B000006281600000A81020000010E05096F0F000006281600000A81020000012A00001B3003007200000003000011140A022C6B026F1700000A2D63731800000A0A026F1900000A0B2B40076F1A00000A173337076F1B00000A7201000070281C00000A2C2507720F0000706F1D00000A0C0772190000706F1D00000A0D060809731E00000A6F1F00000A076F2000000A2DB8DE0A072C06076F2100000ADC062A00000110000002001A004C66000A000000001E02282200000A2A1B300400B90000000400001173110000060A02282300000A2C18060672250000702513056F0E00000611056F10000006062A02282400000A74080000010B07723D0000706F2500000A07032807000006076F2600000A74220000010C086F2700000A732800000A0D06096F2900000A6F0C000006DE0A092C06096F2100000ADC06086F2A00000A20C80000002E0F086F2A00000A20CA000000FE012B01176F0A000006DE1E13040611046F2B00000A6F0E0000060611046F2C00000A6F10000006DE00062A000000011C000002005C000E6A000A00000000000026007399001E270000011B300400FF0000000500001173110000060A02282300000A2C18060672250000702513066F0E00000611066F10000006062A02282400000A74080000010B0772450000706F2500000A0703280700000604282300000A2D3207046F2D00000A6A6F2E00000A076F2F00000A733000000A0C08046F3100000A086F3200000ADE12082C06086F2100000ADC07166A6F2E00000A076F2600000A74220000010D096F2700000A732800000A13040611046F2900000A6F0C000006DE0C11042C0711046F2100000ADC06096F2A00000A20C80000002E0F096F2A00000A20CA000000FE012B01176F0A000006DE1E13050611056F2B00000A6F0E0000060611056F2C00000A6F10000006DE00062A0001280000020065000F74000A0000000002009F000FAE000C0000000000002600B9DF001E270000011B30040005020000060000110339FE010000036F3300000A0D38DB010000096F3400000A0A1200283500000A0B1200283600000A0C07283700000A39AC0100001200283500000A25130439AA010000FE137E050000043AAE0000001F0D733900000A25724F00007016283A00000A25725D00007017283A00000A25727300007018283A00000A25729100007019283A00000A2572AB0000701A283A00000A2572B50000701B283A00000A2572C30000701C283A00000A2572CD0000701D283A00000A2572F10000701E283A00000A2572010100701F09283A00000A2572250100701F0A283A00000A25723B0100701F0B283A00000A2572470100701F0C283A00000AFE138005000004FE137E0500000411041205283B00000A39DB0000001105450D00000005000000110000001D0000002B00000034000000420000004B00000054000000620000006B000000740000007D00000088000000389B00000002086F3C00000A388F00000002086F3D00000A38830000000208283E00000A6F2E00000A2B7502086F3F00000A2B6C0208284000000A6F4100000A2B5E02086F4200000A2B5502086F4300000A2B4C0208284000000A6F4400000A2B3E02086F4500000A2B3502086F4600000A2B2C02086F4700000A2B237269010070734800000A7A72A7010070734800000A7A026F4900000A07086F4A00000A096F4B00000A3A1AFEFFFFDE0A092C06096F2100000ADC2A000000411C0000020000000D000000ED010000FA0100000A000000000000001E02282200000A2A1E027B010000042A2202037D010000042A1E027B020000042A2202037D020000042A1E027B030000042A2202037D030000042A1E027B040000042A2202037D040000042A1E02282200000A2A42534A4201000100000000000C00000076342E302E33303331390000000005006C000000A0060000237E00000C0700008008000023537472696E6773000000008C0F0000FC010000235553008811000010000000234755494400000098110000FC02000023426C6F6200000000000000020000015715A2090900000000FA2533001600000100000032000000050000000500000011000000170000004B0000001D0000000600000001000000040000000800000005000000010000000400000000000A00010000000000060052004B000A007A0065000A00840065000A008B0065000600C200A7000600C900A7000600E900A7000E000B01000106004E022F020600A20288020600CD02BB020600E402BB0206000103BB0206002003BB0206003903BB0206005203BB0206006D03BB0206008803BB020600A1032F020600B5032F020600C303BB020600DC03BB0206000C04F9035F002004000006004F042F0406006F042F040A00A8048D041200EA04DF0412000105DF04060023054B0006004C054B000E006E0500010E008B0500010E00A30500010600BD05B3050600D605B3050600E305B3050E00F8050001060016064B0006006306B30506007006B30506008706A7000E00B706000106001D072F0406003807A70006007F074B0006009B074B00060004084B000E004408250806006B08580800000000010000000000010001000100100016001E00050001000100000010002D001E000500010005000100100037001E0005000100090000000000D806000005000500120001008D0184000100A60187000100C00187000100DE018700130045079301502000000000960096000A000100B4200000000096009E001B0006003021000000009100D8002E000C00C021000000008618E3003D000D00C821000000009600F70041000D00AC22000000009600FB0051000F00E0230000000091001A01620012001026000000008618E3003D0014001826000000008608250172001400202600000000860831017600140029260000000086083D017B00150031260000000086084A017F0015003A2600000000860857017B001600422600000000860868017F0016004B2600000000860879017B001700532600000000860883017F0017005C26000000008618E3003D001800000001001902000002001D02020003002702020004005B02020005006402000001001902000002001D02000003006A02020004002702020005005B02020006006402000001001D02000001001902000002007602000001001902000002007602000003006A02000001007E020000020076020000010082020000010082020000010082020000010082024900E3003D005100E3007F005900E3007F006100E3007F006900E3007F007100E3007F007900E3007F008100E3007F008900E3007F009100E3007F009900E3007600A100E3007F00A900E3007F00B100E3007F00B900E3009200C900E3009800D100E3003D00D900E3003D001100BE0472001100C9047B002100D304A2001100D304A8001900BE0472000C00E3003D001900F404DA00E1000D05DF00E1001A057B00F1002A05E400E1003605EA001400E300F6000C004305FE00E10047057200F90058053D000900E3003D00F10060051501010179051A01010180057F000101970521010901C40527012101E3002D012901EE057B00110107063401390120067B0009002C067B00F10035064B01010140064F010101520627014101E3002D0149017B067F00490181063D001C00950673012400A30689011400AF0689011400C9048E015901CB0615016101E3003D002C00E30098002C004305F6002C005907A401410065077F00410070077F0071018507AD0101018B077F0079018507B2014100A407B9014100AD077F004100B8077F004100C107B9014100D5077F004100E1077F004100F6077F008101E3007F0001011908C00189014305C601910177087200200093009D002100C3019D002E008B00DD022E00330063022E003B002C022E007B00CB022E001300E4012E001B002C022E00230039022E002B005D022E008300D4022E00430074022E004B005D022E005B005D022E00630092022E007300BC02400093009D004100C3019D006100C3019D008100C3019D00A300C3019D002001C3019D004001C3019D006001C3019D008001C3019D00A001C3019D00C001C3019D00E001C3019D000002C3019D00AE00BE0004013A015401CC01040001000000F5018A000000FD018E00000006028E00000013028E0002000900030001000A00030001000C00050002000B00050001000E00070002000D00070002000F000900010010000900CF00EF0068017D019C01048000000100000064000000000000000000160000000400000000000000000000000100420000000000040000000000000000000000010059000000000004000000000000000000000001004B00000000000400000000000000000000000100DF04000000000000003C4D6F64756C653E00436C72487474702E646C6C00436C72487474700053716C546F6F6C732E4E696E6A6100487474704C617965720048747470526573756C74006D73636F726C69620053797374656D004F626A6563740053797374656D2E446174610053797374656D2E446174612E53716C54797065730053716C537472696E670053716C586D6C0053716C426F6F6C65616E00487474704765740048747470506F73740053797374656D2E436F6C6C656374696F6E732E47656E65726963004C6973746031004B657956616C75655061697260320047657448656164657273002E63746F720049456E756D657261626C6560310047657400506F73740053797374656D2E4E65740048747470576562526571756573740041646448656164657273006765745F53756363657373007365745F53756363657373006765745F526573706F6E7365007365745F526573706F6E7365006765745F4572726F724D657373616765007365745F4572726F724D657373616765006765745F4572726F72007365745F4572726F72003C537563636573733E6B5F5F4261636B696E674669656C64003C526573706F6E73653E6B5F5F4261636B696E674669656C64003C4572726F724D6573736167653E6B5F5F4261636B696E674669656C64003C4572726F723E6B5F5F4261636B696E674669656C64005375636365737300526573706F6E7365004572726F724D657373616765004572726F720075726C00686561646572586D6C00737563636573730053797374656D2E52756E74696D652E496E7465726F705365727669636573004F757441747472696275746500726573706F6E7365006572726F720072657175657374426F64790068656164657273007265710076616C75650053797374656D2E52756E74696D652E56657273696F6E696E67005461726765744672616D65776F726B4174747269627574650053797374656D2E5265666C656374696F6E00417373656D626C795469746C6541747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7943756C7475726541747472696275746500436F6D56697369626C65417474726962757465004775696441747472696275746500417373656D626C7956657273696F6E41747472696275746500417373656D626C7946696C6556657273696F6E4174747269627574650053797374656D2E446961676E6F73746963730044656275676761626C6541747472696275746500446562756767696E674D6F6465730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465004D6963726F736F66742E53716C5365727665722E5365727665720053716C50726F636564757265417474726962757465006765745F49734E756C6C006765745F56616C7565006F705F496D706C696369740053797374656D2E586D6C00586D6C5265616465720043726561746552656164657200586D6C4E6F646554797065006765745F4E6F646554797065006765745F4E616D6500537472696E67006F705F457175616C697479004765744174747269627574650041646400526561640049446973706F7361626C6500446973706F73650049734E756C6C4F72456D707479005765625265717565737400437265617465007365745F4D6574686F6400576562526573706F6E736500476574526573706F6E73650048747470576562526573706F6E73650053797374656D2E494F0053747265616D00476574526573706F6E736553747265616D0053747265616D52656164657200546578745265616465720052656164546F456E640048747470537461747573436F6465006765745F537461747573436F646500457863657074696F6E006765745F4D65737361676500546F537472696E67006765745F4C656E677468007365745F436F6E74656E744C656E677468004765745265717565737453747265616D0053747265616D577269746572005465787457726974657200577269746500466C7573680049456E756D657261746F72603100476574456E756D657261746F72006765745F43757272656E74006765745F4B657900576562486561646572436F6C6C656374696F6E00497352657374726963746564003C50726976617465496D706C656D656E746174696F6E44657461696C733E7B30314545394435392D453539382D343438412D384541422D3739384144374143443741467D00436F6D70696C657247656E6572617465644174747269627574650044696374696F6E61727960320024246D6574686F643078363030303030372D310054727947657456616C7565007365745F416363657074007365745F436F6E6E656374696F6E00496E743634005061727365007365745F436F6E74656E7454797065004461746554696D65007365745F44617465007365745F457870656374007365745F486F7374007365745F49664D6F64696669656453696E6365007365745F52656665726572007365745F5472616E73666572456E636F64696E67007365745F557365724167656E74004170706C69636174696F6E457863657074696F6E006765745F486561646572730053797374656D2E436F6C6C656374696F6E732E5370656369616C697A6564004E616D6556616C7565436F6C6C656374696F6E0053797374656D2E436F6C6C656374696F6E730049456E756D657261746F72004D6F76654E65787400000D48006500610064006500720000094E0061006D006500000B560061006C0075006500001749006E00760061006C00690064002000550052004C000007470045005400000950004F0053005400000D410063006300650070007400001543006F006E006E0065006300740069006F006E00001D43006F006E00740065006E0074002D004C0065006E00670074006800011943006F006E00740065006E0074002D00540079007000650001094400610074006500000D450078007000650063007400000948006F00730074000023490066002D004D006F006400690066006900650064002D00530069006E0063006500010F520065006600650072006500720000235400720061006E0073006600650072002D0045006E0063006F00640069006E006700011555007300650072002D004100670065006E007400010B520061006E00670065000021500072006F00780079002D0043006F006E006E0065006300740069006F006E00013D520061006E0067006500200068006500610064006500720020006900730020006E006F007400200073007500700070006F0072007400650064002E000053500072006F00780079002D0043006F006E006E0065006300740069006F006E00200068006500610064006500720020006900730020006E006F007400200073007500700070006F0072007400650064002E000100599DEE0198E58A448EAB798AD7ACD7AF0008B77A5C561934E089100005011109120D101111101109101109120006011109120D11091011111011091011090E000115121501151119020E0E120D032000010F000212100E15121D01151119020E0E10000312100E15121D01151119020E0E0E0F000201122115121D01151119020E0E0320000204200101020320000E042001010E02060202060E032800020328000E0520010111610420010108040100000005000111110205000111090E0F070315121501151119020E0E0E121010070415121501151119020E0E0E0E12100A15121501151119020E0E04200012710420001175050002020E0E0420010E0E06151119020E0E072002011300130105200101130010070415121501151119020E0E12710E0E040001020E0600011280810E05200012808505200012808D0620010112808D0520001180991007061210122112808912809112809D0E03200008042001010A130707121012211280A112808912809112809D0E0A15121D01151119020E0E092000151280A90113000B151280A901151119020E0E042000130004200013010806151280B5020E0807151280B5020E080820020213001013010400010A0E0600011180BD0E062001011180BD0520001280AD052002010E0E170706151119020E0E0E0E151280A901151119020E0E0E084701001A2E4E45544672616D65776F726B2C56657273696F6E3D76342E300100540E144672616D65776F726B446973706C61794E616D65102E4E4554204672616D65776F726B20340C010007436C724874747000002301001E434C5220417373656D626C7920666F722048545450204745542F504F535400000501000000001001000B4D5353514C2E546F6F6C7300001D010018436F7079726967687420C2A9204D5353514C2E546F6F6C7300002901002436343165313030642D653531352D343065372D393564332D35633563346131663065333000000E010009312E302E3130302E3000000801000200000000000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F77730100000000031AF65500000000020000001C010000143B0000141D000052534453805BE4485C22EF4E928E19F33A66434001000000643A5C53716C4D676D745C7372635C636C725C436C72487474705C76312E305C6F626A5C52656C656173655C436C72487474702E70646200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000583C000000000000000000006E3C0000002000000000000000000000000000000000000000000000603C00000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF2500200010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000480300000000000000000000480334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000001000000640000000100000064003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004A8020000010053007400720069006E006700460069006C00650049006E0066006F00000084020000010030003000300030003000340062003000000058001F00010043006F006D006D0065006E0074007300000043004C005200200041007300730065006D0062006C007900200066006F0072002000480054005400500020004700450054002F0050004F00530054000000000038000C00010043006F006D00700061006E0079004E0061006D006500000000004D005300530051004C002E0054006F006F006C0073000000380008000100460069006C0065004400650073006300720069007000740069006F006E000000000043006C0072004800740074007000000034000A000100460069006C006500560065007200730069006F006E000000000031002E0030002E003100300030002E003000000038000C00010049006E007400650072006E0061006C004E0061006D006500000043006C00720048007400740070002E0064006C006C0000005400180001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020004D005300530051004C002E0054006F006F006C007300000040000C0001004F0072006900670069006E0061006C00460069006C0065006E0061006D006500000043006C00720048007400740070002E0064006C006C000000300008000100500072006F0064007500630074004E0061006D0065000000000043006C0072004800740074007000000038000A000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E003100300030002E00300000003C000A00010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E003100300030002E0030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000803C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
with permission_set = external_access
go

create procedure [dbo].[sp_HttpGet]
	@url [nvarchar](max),
	@headerXml [xml],
	@success [bit] output,
	@response [nvarchar](max) output,
	@error [nvarchar](max) output
with execute as caller
as
external name [ClrHttp].[SqlTools.Ninja.ClrHttp].[HttpGet]
go

create procedure [dbo].[sp_HttpPost]
	@url [nvarchar](max),
	@headerXml [xml],
	@requestBody [nvarchar](max),
	@success [bit] output,
	@response [nvarchar](max) output,
	@error [nvarchar](max) output
with execute as caller
as
external name [ClrHttp].[SqlTools.Ninja.ClrHttp].[HttpPost]
go